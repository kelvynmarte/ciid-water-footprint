<!DOCTYPE html>
<style>
.chart {
    width: 100%;
}
.chart > div {
    width: calc(50% - 1px);
    min-height: 1vh;
    float: left;
}
.internal {
    float: left;
    border-right: 1px solid #333;
}

.chart > div > div {
  font: 10px sans-serif;
  background-color: steelblue;
  text-align: right;
  padding: 0px;
  margin-bottom: 1px;
  color: white;
}
.internal > div{
    float: right;
    clear: both;
}

</style>
<body>
<div class="chart">
    <div class="internal"></div>
    <div class="external"></div>
</div>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
    var width = window.innerWidth;
    var height = window.innerHeight - 30;
    d3.csv("waterFootprint.csv", function(error, data) {
        // Convert strings to numbers.
        data.forEach(function(d) {
            d.InternalTotal = +d.InternalTotal;
            d.ExternalTotal = +d.ExternalTotal;
        });
        var maxOne = d3.max(data, function(d) { return Math.max(d.InternalTotal, d.ExternalTotal); });
        console.log(data);
        var x = d3.scaleLinear()
        .domain([0, maxOne])
        .range([0, (width-60)/2]);
        var barHeight = Math.floor((height / data.length) - 1);
        console.log(barHeight, "barHeigt")

    d3.select(".internal")
    .selectAll("div")
        .data(data)
    .enter().append("div")
        .style("width", function(d) { 
            console.log(d);
            return x(d.InternalTotal) + "px"; })
        .style("height", function(d) { 
            return  barHeight + "px"; }).text(function(d) { return d.Country; });
        d3.select(".external")
    .selectAll("div")
        .data(data)
    .enter().append("div")
        .style("width", function(d) { 
            console.log(d);
            return x(d.ExternalTotal) + "px"; })
        .style("height", function(d) { 
            return  barHeight + "px"; })
        .text(function(d) { return d.Country; });
    });
</script>
</body>